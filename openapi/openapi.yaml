openapi: 3.0.2
info:
  version: 1.0.0
  title: Booking Shopify Api
  license:
    name: MIT
    url: http://
  x-tagGroups:
    - name: all api endpoints
      tags:
        - Auth
        - My Account
        - User
        - Shift
        - Product
        - Shopify
servers:
  - url: https://booking-shopify-api.azurewebsites.net/api
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  responses:
    BadResponse:
      $ref: "./responses/bad.yaml"
    ForbiddenResponse:
      $ref: "./responses/forbidden.yaml"
    NotFoundResponse:
      $ref: "./responses/not-found.yaml"
    UnauthorizedResponse:
      $ref: "./responses/unauthorized.yaml"
    ZodResponse:
      $ref: "./responses/zod.yaml"

  schemas:
    # errors
    Error:
      $ref: "./schemas/error.yaml"
    ZodError:
      $ref: "./schemas/zod-error.yaml"

    # auth
    AuthLoginResponse:
      $ref: "./paths/auth/schemas/login-response.yaml"
    AuthLoginRequest:
      $ref: "./paths/auth/schemas/login-request.yaml"
    AuthPasswordResponse:
      $ref: "./paths/auth/schemas/receive-password-response.yaml"
    AuthPasswordRequest:
      $ref: "./paths/auth/schemas/receive-password-request.yaml"

    # user
    User:
      $ref: "./paths/user/_types/user.yaml"
    UserCreateBody:
      $ref: "./paths/user/create/body.yaml"
    UserCreateResponse:
      $ref: "./paths/user/create/response.yaml"
    UserCreateApiBody:
      $ref: "./paths/user/create-api/body.yaml"
    UserCreateResponseApi:
      $ref: "./paths/user/create-api/response.yaml"
    UserGetAllResponse:
      $ref: "./paths/user/get-all/response.yaml"
    UserGetByIdResponse:
      $ref: "./paths/user/get-by-id/response.yaml"
    UserUpdateBody:
      $ref: "./paths/user/update/body.yaml"
    UserUpdateResponse:
      $ref: "./paths/user/update/response.yaml"

    # shift
    Shift:
      $ref: "./paths/shift/_types/shift.yaml"
    ShiftGroup:
      $ref: "./paths/shift/_types/shift-group.yaml"
    ShiftDay:
      $ref: "./paths/shift/_types/day.yaml"
    ShiftTag:
      $ref: "./paths/shift/_types/tag.yaml"
    ShiftCreateBody:
      $ref: "./paths/shift/create/body.yaml"
    ShiftCreateResponse:
      $ref: "./paths/shift/create/response.yaml"
    ShiftCreateGroupBody:
      $ref: "./paths/shift/create-group/body.yaml"
    ShiftCreateGroupResponse:
      $ref: "./paths/shift/create-group/response.yaml"
    ShiftDestroy:
      $ref: "./paths/shift/destroy/payload.yaml"
    ShiftDestroyResponse:
      $ref: "./paths/shift/destroy/response.yaml"
    ShiftDestroyGroup:
      $ref: "./paths/shift/destroy-group/payload.yaml"
    ShiftDestroyGroupResponse:
      $ref: "./paths/shift/destroy-group/response.yaml"
    ShiftGetAllResponse:
      $ref: "./paths/shift/get-all-shifts/response.yaml"
    ShiftGetGroupResponse:
      $ref: "./paths/shift/get-group/response.yaml"
    ShiftUpdateBody:
      $ref: "./paths/shift/update/body.yaml"
    ShiftUpdateResponse:
      $ref: "./paths/shift/update/response.yaml"
    ShiftUpdateGroupBody:
      $ref: "./paths/shift/update-group/body.yaml"
    ShiftUpdateGroupResponse:
      $ref: "./paths/shift/update-group/response.yaml"

    # product
    ProductGetAll:
      $ref: "./paths/product/get-all/payload.yaml"
    ProductGetAllUser:
      $ref: "./paths/product/get-all/user.yaml"
    ProductGetAllResponse:
      $ref: "./paths/product/get-all/response.yaml"
    ProductGetAvailableUsers:
      $ref: "./paths/product/get-available-users/payload.yaml"
    ProductGetAvailableUsersResponse:
      $ref: "./paths/product/get-available-users/response.yaml"
    ProductUpdateBody:
      $ref: "./paths/product/update/body.yaml"
    ProductUpdateBodyUser:
      $ref: "./paths/product/update/body-user.yaml"
    ProductUpdateUser:
      $ref: "./paths/product/update/user.yaml"
    ProductUpdateResponse:
      $ref: "./paths/product/update/response.yaml"
    ProductGetById:
      $ref: "./paths/product/get-by-id/payload.yaml"
    ProductGetByIdUser:
      $ref: "./paths/product/get-by-id/user.yaml"
    ProductGetByIdResponse:
      $ref: "./paths/product/get-by-id/response.yaml"

    # Collection
    CollectionGetAll:
      $ref: "./paths/collection/get-all/payload.yaml"
    CollectionGetAllUser:
      $ref: "./paths/collection/get-all/user.yaml"
    CollectionGetAllProduct:
      $ref: "./paths/collection/get-all/product.yaml"
    CollectionGetAllResponse:
      $ref: "./paths/collection/get-all/response.yaml"

    # Shopify
    ShopifyLoadData:
      $ref: "./paths/shopify/load-data/payload.yaml"
    ShopifyLoadDataResponse:
      $ref: "./paths/shopify/load-data/response.yaml"
    ShopifySearchCustomers:
      $ref: "./paths/shopify/search-customers/payload.yaml"
    ShopifySearchCustomersResponse:
      $ref: "./paths/shopify/search-customers/response.yaml"

paths:
  # auth
  /auth/login:
    $ref: "./paths/auth/login.yaml"

  /auth/receive-password:
    $ref: "./paths/auth/receive-password.yaml"

  # my account
  /my-account:
    $ref: "./paths/my/account.yaml"

  # user
  /users:
    $ref: "./paths/user/get-all/index.yaml"

  /user/create-user-api:
    $ref: "./paths/user/create-api/index.yaml"

  /user:
    $ref: "./paths/user/create/index.yaml"

  /user/{id}:
    $ref: "./paths/user/user.yaml"

  # shift
  /user/{userId}/shift-group:
    $ref: "./paths/shift/create-group/index.yaml"

  /user/{userId}/shifts:
    $ref: "./paths/shift/get-all-shifts/index.yaml"

  /user/{userId}/shift:
    $ref: "./paths/shift/create/index.yaml"

  /user/{userId}/shift-group/{groupId}:
    $ref: "./paths/shift/group.yaml"

  /user/{userId}/shift/{id}:
    $ref: "./paths/shift/shift.yaml"

  # product
  /products:
    $ref: "./paths/product/get-all/index.yaml"

  /products/get-available-users:
    $ref: "./paths/product/get-available-users/index.yaml"

  /products/{id}:
    $ref: "./paths/product/product.yaml"

  /collections:
    $ref: "./paths/collection/get-all/index.yaml"

  # shopify
  /shopify/load-data:
    $ref: "./paths/shopify/load-data/index.yaml"
  /shopify/search-customers:
    $ref: "./paths/shopify/search-customers/index.yaml"

tags:
  - name: Auth
    description: Login and reset password
  - name: My Account
    description: Manage logged in user data.
  - name: User
    description: Manage users..
  - name: Shift
    description: Manage shifts for user.
  - name: Product
    description: Manage products
  - name: Shopify
    description: Shopify api
